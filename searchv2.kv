# Author: Muhammed Elyamani
# Date: 25/01/2023
# GitHub: https://github.com/WikiGenius

#:import Animation kivy.animation.Animation

<SearchDashboard>
    text_input: text_input
    image: image
    BoxLayout:
        orientation:"vertical"
        spacing:30
        padding:20
        # Add an Video for displaying the video results
        RoundedImag:
            id:image
            size_hint:(1, 0.5)
            pos_hint:{'top': 1}

        # Add a text input for Entering the object from the user            
        RoundedTextInput:
            id: text_input
            hint_text:'Search'
            size_hint:(0.6, 0.07)
            pos_hint:{'top': 0.38, 'right': 0.8}
            multiline:False
            font_size:30
            halign: "center"
        # # Add a button for starting/stopping object detection
        RoundButton:
            text:'Find'
            size_hint:(0.2, 0.1)
            pos_hint:{'top': 0.2, 'center_x': 0.5}
            font_size:20
            on_press: 
                app.update_search()

<RoundButton@Button>:
    background_normal: ''
    background_color:(0,0,0,0)
    canvas.before:
        Color:
            rgba: (1, 1, 1, 0.5)
        Ellipse:
            pos: self.pos
            size: self.size
    on_press:
        Animation(d=.2, rgba=(0, 1, 0, 1)).start(self.canvas.before.children[0])
    on_release:
        Animation(d=.2, rgba=(1, 1, 1, 0.5)).start(self.canvas.before.children[0])

<RoundedTextInput@TextInput>:
    background_color: 1, 1, 1, 0
    canvas.before:
        Color:
            rgba: [1,1,1,.5]
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [20, ]
<RoundedImag@Image>:
    background_color:0,0,0,0
    canvas.before:
        Color:
            rgba: 1, 1, 1, 0.5
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [75, ]